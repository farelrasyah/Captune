<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Captune Options</title>
    <link rel="stylesheet" href="styles/options.css">
</head>
<body>
    <div class="options-container">
        <header class="options-header">
            <div class="logo">
                <img src="icons/icon48.png" alt="Captune" class="logo-img">
                <h1>Captune Settings</h1>
            </div>
            <div class="version">Version 1.0.0</div>
        </header>

        <nav class="options-nav">
            <button class="nav-tab active" data-tab="general">General</button>
            <button class="nav-tab" data-tab="capture">Capture</button>
            <button class="nav-tab" data-tab="export">Export</button>
            <button class="nav-tab" data-tab="shortcuts">Shortcuts</button>
            <button class="nav-tab" data-tab="advanced">Advanced</button>
        </nav>

        <main class="options-content">
            <!-- General Settings -->
            <section id="general" class="tab-content active">
                <h2>General Settings</h2>
                
                <div class="setting-group">
                    <h3>Default Behavior</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="auto-save">
                            <span>Auto-save screenshots</span>
                        </label>
                        <p class="setting-description">Automatically save screenshots to default location</p>
                    </div>
                    
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="show-notifications">
                            <span>Show notifications</span>
                        </label>
                        <p class="setting-description">Display notifications for capture events</p>
                    </div>
                    
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="close-popup">
                            <span>Close popup after capture</span>
                        </label>
                        <p class="setting-description">Automatically close popup window after taking screenshot</p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>File Naming</h3>
                    <div class="setting-item">
                        <label for="filename-pattern">Filename Pattern:</label>
                        <input type="text" id="filename-pattern" value="captune-{date}-{time}">
                        <p class="setting-description">
                            Available variables: {date}, {time}, {title}, {url}, {counter}<br>
                            Example: captune-2024-01-15-14-30-25
                        </p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Interface</h3>
                    <div class="setting-item">
                        <label for="theme">Theme:</label>
                        <select id="theme">
                            <option value="auto">Auto (System)</option>
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label for="language">Language:</label>
                        <select id="language">
                            <option value="en">English</option>
                            <option value="id">Indonesian</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Capture Settings -->
            <section id="capture" class="tab-content">
                <h2>Capture Settings</h2>
                
                <div class="setting-group">
                    <h3>Default Capture Options</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="default-include-sticky">
                            <span>Include sticky elements by default</span>
                        </label>
                        <p class="setting-description">Include fixed/sticky headers and footers in screenshots</p>
                    </div>
                    
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="default-retina">
                            <span>Use retina quality by default</span>
                        </label>
                        <p class="setting-description">Capture at 2x resolution for sharper images</p>
                    </div>
                    
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="default-auto-expand">
                            <span>Auto-expand content by default</span>
                        </label>
                        <p class="setting-description">Automatically click "Show more" buttons and expand content</p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Full Page Capture</h3>
                    <div class="setting-item">
                        <label for="scroll-delay">Scroll delay (ms):</label>
                        <input type="range" id="scroll-delay" min="50" max="1000" value="200">
                        <span id="scroll-delay-value">200ms</span>
                        <p class="setting-description">Delay between scroll steps during full page capture</p>
                    </div>
                    
                    <div class="setting-item">
                        <label for="max-page-height">Max page height (px):</label>
                        <input type="number" id="max-page-height" min="1000" max="50000" value="20000">
                        <p class="setting-description">Maximum page height to capture (prevents infinite scroll issues)</p>
                    </div>
                    
                    <div class="setting-item">
                        <label for="overlap-pixels">Viewport overlap (px):</label>
                        <input type="range" id="overlap-pixels" min="0" max="200" value="100">
                        <span id="overlap-pixels-value">100px</span>
                        <p class="setting-description">Overlap between viewport captures for better stitching</p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Device Emulation</h3>
                    <div class="setting-item">
                        <label for="desktop-width">Desktop width:</label>
                        <input type="number" id="desktop-width" min="1200" max="3840" value="1920">
                        <span>px</span>
                    </div>
                    
                    <div class="setting-item">
                        <label for="tablet-width">Tablet width:</label>
                        <input type="number" id="tablet-width" min="600" max="1200" value="768">
                        <span>px</span>
                    </div>
                    
                    <div class="setting-item">
                        <label for="mobile-width">Mobile width:</label>
                        <input type="number" id="mobile-width" min="320" max="600" value="375">
                        <span>px</span>
                    </div>
                </div>
            </section>

            <!-- Export Settings -->
            <section id="export" class="tab-content">
                <h2>Export Settings</h2>
                
                <div class="setting-group">
                    <h3>Default Export Format</h3>
                    <div class="setting-item">
                        <label for="default-format">Default format:</label>
                        <select id="default-format">
                            <option value="png">PNG (Lossless)</option>
                            <option value="jpeg">JPEG (Compressed)</option>
                            <option value="webp">WebP (Modern)</option>
                            <option value="pdf">PDF (Document)</option>
                        </select>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Quality Settings</h3>
                    <div class="setting-item">
                        <label for="jpeg-quality">JPEG Quality:</label>
                        <input type="range" id="jpeg-quality" min="10" max="100" value="90">
                        <span id="jpeg-quality-value">90%</span>
                    </div>
                    
                    <div class="setting-item">
                        <label for="webp-quality">WebP Quality:</label>
                        <input type="range" id="webp-quality" min="10" max="100" value="85">
                        <span id="webp-quality-value">85%</span>
                    </div>
                    
                    <div class="setting-item">
                        <label for="png-compression">PNG Compression:</label>
                        <input type="range" id="png-compression" min="0" max="9" value="6">
                        <span id="png-compression-value">6</span>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Watermark</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="enable-watermark">
                            <span>Add watermark to exports</span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label for="watermark-text">Watermark text:</label>
                        <input type="text" id="watermark-text" value="Captured with Captune">
                    </div>
                    
                    <div class="setting-item">
                        <label for="watermark-position">Position:</label>
                        <select id="watermark-position">
                            <option value="bottom-right">Bottom Right</option>
                            <option value="bottom-left">Bottom Left</option>
                            <option value="top-right">Top Right</option>
                            <option value="top-left">Top Left</option>
                            <option value="center">Center</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label for="watermark-opacity">Opacity:</label>
                        <input type="range" id="watermark-opacity" min="10" max="100" value="50">
                        <span id="watermark-opacity-value">50%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>File Size</h3>
                    <div class="setting-item">
                        <label for="max-file-size">Max file size (MB):</label>
                        <input type="number" id="max-file-size" min="1" max="100" value="50">
                        <p class="setting-description">Automatically reduce quality if file exceeds this size</p>
                    </div>
                </div>
            </section>

            <!-- Shortcuts Settings -->
            <section id="shortcuts" class="tab-content">
                <h2>Keyboard Shortcuts</h2>
                
                <div class="setting-group">
                    <h3>Global Shortcuts</h3>
                    <div class="shortcut-item">
                        <label>Capture Full Page:</label>
                        <div class="shortcut-input" data-command="capture-full-page">
                            <input type="text" readonly value="Ctrl+Shift+S">
                            <button class="change-shortcut">Change</button>
                        </div>
                    </div>
                    
                    <div class="shortcut-item">
                        <label>Capture Mobile View:</label>
                        <div class="shortcut-input" data-command="capture-mobile-view">
                            <input type="text" readonly value="Ctrl+Shift+M">
                            <button class="change-shortcut">Change</button>
                        </div>
                    </div>
                    
                    <div class="shortcut-item">
                        <label>Capture with Links:</label>
                        <div class="shortcut-input" data-command="capture-with-links">
                            <input type="text" readonly value="Ctrl+Shift+L">
                            <button class="change-shortcut">Change</button>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Context Menu</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="enable-context-menu">
                            <span>Enable right-click context menu</span>
                        </label>
                        <p class="setting-description">Add Captune options to right-click menu</p>
                    </div>
                    
                    <div class="context-menu-options">
                        <div class="setting-item">
                            <label class="setting-label">
                                <input type="checkbox" id="context-full-page" checked>
                                <span>Capture Full Page</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="setting-label">
                                <input type="checkbox" id="context-visible" checked>
                                <span>Capture Visible Area</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="setting-label">
                                <input type="checkbox" id="context-element" checked>
                                <span>Capture This Element</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="setting-label">
                                <input type="checkbox" id="context-mobile">
                                <span>Capture Mobile View</span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Advanced Settings -->
            <section id="advanced" class="tab-content">
                <h2>Advanced Settings</h2>
                
                <div class="setting-group">
                    <h3>Performance</h3>
                    <div class="setting-item">
                        <label for="concurrent-captures">Max concurrent captures:</label>
                        <input type="number" id="concurrent-captures" min="1" max="10" value="3">
                        <p class="setting-description">Maximum number of simultaneous captures for batch operations</p>
                    </div>
                    
                    <div class="setting-item">
                        <label for="cache-size">Cache size (MB):</label>
                        <input type="number" id="cache-size" min="10" max="500" value="100">
                        <p class="setting-description">Amount of memory to use for caching images</p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Developer Mode</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="developer-mode">
                            <span>Enable developer mode</span>
                        </label>
                        <p class="setting-description">Enable debugging features and detailed logging</p>
                    </div>
                    
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="debug-logging">
                            <span>Debug logging</span>
                        </label>
                        <p class="setting-description">Log detailed information to browser console</p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Custom CSS Selectors</h3>
                    <div class="setting-item">
                        <label for="expand-selectors">Expand button selectors:</label>
                        <textarea id="expand-selectors" rows="3" placeholder="Enter CSS selectors (one per line)">
.show-more
.load-more
[data-testid*="show-more"]
button[contains(text(), "Show more")]</textarea>
                        <p class="setting-description">CSS selectors for buttons that expand content</p>
                    </div>
                    
                    <div class="setting-item">
                        <label for="sticky-selectors">Sticky element selectors:</label>
                        <textarea id="sticky-selectors" rows="3" placeholder="Enter CSS selectors (one per line)">
.sticky-header
.fixed-nav
[style*="position: fixed"]
[style*="position: sticky"]</textarea>
                        <p class="setting-description">CSS selectors for sticky/fixed elements</p>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Data Management</h3>
                    <div class="setting-item">
                        <button id="export-settings" class="action-button">Export Settings</button>
                        <button id="import-settings" class="action-button">Import Settings</button>
                        <p class="setting-description">Backup and restore your settings</p>
                    </div>
                    
                    <div class="setting-item">
                        <button id="reset-settings" class="action-button danger">Reset to Defaults</button>
                        <p class="setting-description">Reset all settings to default values</p>
                    </div>
                    
                    <div class="setting-item">
                        <button id="clear-cache" class="action-button">Clear Cache</button>
                        <p class="setting-description">Clear stored images and temporary data</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="options-footer">
            <div class="footer-actions">
                <button id="save-settings" class="save-button">Save Settings</button>
                <button id="cancel-settings" class="cancel-button">Cancel</button>
            </div>
            <div class="footer-info">
                <p>Captune Professional Screenshot Tool v1.0.0</p>
                <p><a href="#" id="about-link">About</a> | <a href="#" id="help-link">Help</a> | <a href="#" id="feedback-link">Feedback</a></p>
            </div>
        </footer>
    </div>

    <!-- Shortcut Change Modal -->
    <div id="shortcut-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Change Keyboard Shortcut</h3>
            <p>Press the new key combination:</p>
            <div class="shortcut-display" id="new-shortcut-display">Press keys...</div>
            <div class="modal-actions">
                <button id="save-shortcut">Save</button>
                <button id="cancel-shortcut">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Hidden file input for importing settings -->
    <input type="file" id="import-file-input" accept=".json" style="display: none;">

    <script src="options.js"></script>
</body>
</html>
